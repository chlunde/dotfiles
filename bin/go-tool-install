#!/bin/bash

set -e

export GOPATH=~/opt/gotoolpath

test -d $GOPATH/ || mkdir -p $GOPATH
test -d ~/bin || mkdir -p ~/bin

if ! [[ -L $GOPATH/bin ]]
then
    ln -s ~/bin/ $GOPATH/bin
fi

if [[ $# == 0 ]]
then
    go get -u \
       github.com/junegunn/fzf \
       golang.org/x/tools/cmd/goimports \
       golang.org/x/tools/cmd/gopls \
       golang.org/x/tools/cmd/gorename \
       golang.org/x/lint/golint \
       honnef.co/go/tools/cmd/staticcheck
else
    go get -u $@
fi
